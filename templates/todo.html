<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width,initial-scale=1" />
		<title>To-Do</title>
		<link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
	</head>
	<body>
		<main class="container">
			<header class="header">
				<h1>To-Do</h1>
				<div class="badge">Storage: <strong>{% if using_mongo %}MongoDB{% else %}Local JSON{% endif %}</strong></div>
			</header>

			<section class="form-section">
				<form id="todoForm" method="post" action="/submittodoitem" class="todo-form">
					<div class="row">
						<label>Item ID: <input name="itemId"></label>
						<label>Item UUID: <input name="itemUUID"></label>
						<label>Item Hash: <input name="itemHash"></label>
					</div>
					<div class="row">
						<label class="grow">Item Name: <input name="itemName" required></label>
					</div>
					<div class="row">
						<label class="grow">Item Description: <input name="itemDescription"></label>
					</div>
					<div class="row actions">
						<button type="submit" class="btn primary">Submit</button>
						<button type="button" id="clearBtn" class="btn muted">Clear</button>
					</div>
				</form>
			</section>

			<section class="items-section">
				<h2>Items</h2>
				{% if items %}
					<ul class="items-list">
					{% for it in items %}
						<li class="item"><span class="title">{{ it.itemName }}</span>{% if it.itemDescription %}<span class="desc"> - {{ it.itemDescription }}</span>{% endif %}</li>
					{% endfor %}
					</ul>
				{% else %}
					<p class="empty">No items yet.</p>
				{% endif %}
			</section>
		</main>

		<script>
			// small client-side nicety: clear inputs when Clear clicked
			document.addEventListener('DOMContentLoaded', function(){
				const clearBtn = document.getElementById('clearBtn');
				if (clearBtn) clearBtn.addEventListener('click', ()=>{ document.getElementById('todoForm').reset(); });
			});
		</script>
	</body>
</html>
